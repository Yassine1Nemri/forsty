{% extends 'client/index.html.twig' %}

{% block title %}Messages{% endblock %}

{% block content %}
    <h1>Your Conversations</h1>

    {% if conversations|length > 0 %}
        <div class="list-group mt-4">
            {% for user in conversations %}
                <a href="{{ path('app_messenger_conversation', {'id': user.id}) }}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                    {{ user.username }}
                    {% if unread_count > 0 %}
                        <span class="badge bg-primary rounded-pill">{{ unread_count }}</span>
                    {% endif %}
                </a>
            {% endfor %}
        </div>
    {% else %}
        <div class="alert alert-info mt-4">
            <p>You don't have any conversations yet.</p>
        </div>
    {% endif %}
{% endblock %}